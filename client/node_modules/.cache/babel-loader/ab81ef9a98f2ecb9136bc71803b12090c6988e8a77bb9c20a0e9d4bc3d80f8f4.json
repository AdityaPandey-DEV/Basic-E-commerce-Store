{"ast":null,"code":"import React,{useState}from'react';import{Link,useNavigate}from'react-router-dom';import{useSelector,useDispatch}from'react-redux';import{Search,ShoppingCart,User,Menu,Heart,LogOut,Package}from'lucide-react';import{logout}from'../../store/slices/authSlice';import{toggleSidebar,toggleCart}from'../../store/slices/uiSlice';import{setFilters}from'../../store/slices/productSlice';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Navbar=()=>{const[searchQuery,setSearchQuery]=useState('');const[showUserMenu,setShowUserMenu]=useState(false);const dispatch=useDispatch();const navigate=useNavigate();const{isAuthenticated,user}=useSelector(state=>state.auth);const{totalItems}=useSelector(state=>state.cart);const handleSearch=e=>{e.preventDefault();if(searchQuery.trim()){dispatch(setFilters({search:searchQuery.trim()}));navigate('/products');}};const handleLogout=()=>{dispatch(logout());setShowUserMenu(false);navigate('/');};return/*#__PURE__*/_jsx(\"nav\",{className:\"bg-amazon-dark text-white sticky top-0 z-50\",children:/*#__PURE__*/_jsx(\"div\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between h-16\",children:[/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"flex items-center space-x-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-bold text-amazon-orange\",children:\"Amazon\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 max-w-2xl mx-8\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSearch,className:\"relative\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search for products...\",value:searchQuery,onChange:e=>setSearchQuery(e.target.value),className:\"w-full px-4 py-2 pl-10 pr-4 text-gray-900 bg-white rounded-l-md focus:outline-none focus:ring-2 focus:ring-amazon-orange\"}),/*#__PURE__*/_jsx(Search,{className:\"absolute left-3 top-2.5 h-5 w-5 text-gray-400\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"absolute right-0 top-0 h-full px-4 bg-amazon-orange hover:bg-orange-600 rounded-r-md transition-colors duration-200\",children:/*#__PURE__*/_jsx(Search,{className:\"h-5 w-5 text-white\"})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>dispatch(toggleSidebar()),className:\"md:hidden p-2 hover:bg-gray-700 rounded-md\",children:/*#__PURE__*/_jsx(Menu,{className:\"h-6 w-6\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"relative\",children:isAuthenticated?/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowUserMenu(!showUserMenu),className:\"flex items-center space-x-1 p-2 hover:bg-gray-700 rounded-md\",children:[/*#__PURE__*/_jsx(User,{className:\"h-5 w-5\"}),/*#__PURE__*/_jsx(\"span\",{className:\"hidden sm:block\",children:user===null||user===void 0?void 0:user.name})]}),showUserMenu&&/*#__PURE__*/_jsxs(\"div\",{className:\"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 z-50\",children:[/*#__PURE__*/_jsxs(Link,{to:\"/profile\",className:\"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100\",onClick:()=>setShowUserMenu(false),children:[/*#__PURE__*/_jsx(User,{className:\"h-4 w-4 mr-2\"}),\"Profile\"]}),/*#__PURE__*/_jsxs(Link,{to:\"/orders\",className:\"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100\",onClick:()=>setShowUserMenu(false),children:[/*#__PURE__*/_jsx(Package,{className:\"h-4 w-4 mr-2\"}),\"Orders\"]}),/*#__PURE__*/_jsxs(Link,{to:\"/wishlist\",className:\"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100\",onClick:()=>setShowUserMenu(false),children:[/*#__PURE__*/_jsx(Heart,{className:\"h-4 w-4 mr-2\"}),\"Wishlist\"]}),(user===null||user===void 0?void 0:user.role)==='admin'&&/*#__PURE__*/_jsxs(Link,{to:\"/admin\",className:\"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100\",onClick:()=>setShowUserMenu(false),children:[/*#__PURE__*/_jsx(Package,{className:\"h-4 w-4 mr-2\"}),\"Admin\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:handleLogout,className:\"flex items-center w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100\",children:[/*#__PURE__*/_jsx(LogOut,{className:\"h-4 w-4 mr-2\"}),\"Logout\"]})]})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(Link,{to:\"/login\",className:\"px-3 py-2 text-sm hover:bg-gray-700 rounded-md\",children:\"Sign In\"}),/*#__PURE__*/_jsx(Link,{to:\"/register\",className:\"px-3 py-2 text-sm bg-amazon-orange hover:bg-orange-600 rounded-md\",children:\"Sign Up\"})]})}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>dispatch(toggleCart()),className:\"relative p-2 hover:bg-gray-700 rounded-md\",children:[/*#__PURE__*/_jsx(ShoppingCart,{className:\"h-6 w-6\"}),totalItems>0&&/*#__PURE__*/_jsx(\"span\",{className:\"absolute -top-1 -right-1 bg-amazon-orange text-white text-xs rounded-full h-5 w-5 flex items-center justify-center\",children:totalItems})]})]})]})})});};export default Navbar;","map":{"version":3,"names":["React","useState","Link","useNavigate","useSelector","useDispatch","Search","ShoppingCart","User","Menu","Heart","LogOut","Package","logout","toggleSidebar","toggleCart","setFilters","jsx","_jsx","jsxs","_jsxs","Navbar","searchQuery","setSearchQuery","showUserMenu","setShowUserMenu","dispatch","navigate","isAuthenticated","user","state","auth","totalItems","cart","handleSearch","e","preventDefault","trim","search","handleLogout","className","children","to","onSubmit","type","placeholder","value","onChange","target","onClick","name","role"],"sources":["/Users/adityapandey/Desktop/HarshKumar/client/src/components/layout/Navbar.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { \n  Search, \n  ShoppingCart, \n  User, \n  Menu, \n  Heart,\n  LogOut,\n  Package\n} from 'lucide-react';\nimport { logout } from '../../store/slices/authSlice';\nimport { toggleSidebar, toggleCart } from '../../store/slices/uiSlice';\nimport { setFilters } from '../../store/slices/productSlice';\n\nconst Navbar = () => {\n  const [searchQuery, setSearchQuery] = useState('');\n  const [showUserMenu, setShowUserMenu] = useState(false);\n  \n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  \n  const { isAuthenticated, user } = useSelector(state => state.auth);\n  const { totalItems } = useSelector(state => state.cart);\n\n  const handleSearch = (e) => {\n    e.preventDefault();\n    if (searchQuery.trim()) {\n      dispatch(setFilters({ search: searchQuery.trim() }));\n      navigate('/products');\n    }\n  };\n\n  const handleLogout = () => {\n    dispatch(logout());\n    setShowUserMenu(false);\n    navigate('/');\n  };\n\n  return (\n    <nav className=\"bg-amazon-dark text-white sticky top-0 z-50\">\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n        <div className=\"flex items-center justify-between h-16\">\n          {/* Logo */}\n          <Link to=\"/\" className=\"flex items-center space-x-2\">\n            <div className=\"text-2xl font-bold text-amazon-orange\">Amazon</div>\n          </Link>\n\n          {/* Search Bar */}\n          <div className=\"flex-1 max-w-2xl mx-8\">\n            <form onSubmit={handleSearch} className=\"relative\">\n              <input\n                type=\"text\"\n                placeholder=\"Search for products...\"\n                value={searchQuery}\n                onChange={(e) => setSearchQuery(e.target.value)}\n                className=\"w-full px-4 py-2 pl-10 pr-4 text-gray-900 bg-white rounded-l-md focus:outline-none focus:ring-2 focus:ring-amazon-orange\"\n              />\n              <Search className=\"absolute left-3 top-2.5 h-5 w-5 text-gray-400\" />\n              <button\n                type=\"submit\"\n                className=\"absolute right-0 top-0 h-full px-4 bg-amazon-orange hover:bg-orange-600 rounded-r-md transition-colors duration-200\"\n              >\n                <Search className=\"h-5 w-5 text-white\" />\n              </button>\n            </form>\n          </div>\n\n          {/* Right Side Actions */}\n          <div className=\"flex items-center space-x-4\">\n            {/* Mobile Menu Button */}\n            <button\n              onClick={() => dispatch(toggleSidebar())}\n              className=\"md:hidden p-2 hover:bg-gray-700 rounded-md\"\n            >\n              <Menu className=\"h-6 w-6\" />\n            </button>\n\n            {/* User Menu */}\n            <div className=\"relative\">\n              {isAuthenticated ? (\n                <div className=\"flex items-center space-x-4\">\n                  <button\n                    onClick={() => setShowUserMenu(!showUserMenu)}\n                    className=\"flex items-center space-x-1 p-2 hover:bg-gray-700 rounded-md\"\n                  >\n                    <User className=\"h-5 w-5\" />\n                    <span className=\"hidden sm:block\">{user?.name}</span>\n                  </button>\n\n                  {showUserMenu && (\n                    <div className=\"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 z-50\">\n                      <Link\n                        to=\"/profile\"\n                        className=\"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100\"\n                        onClick={() => setShowUserMenu(false)}\n                      >\n                        <User className=\"h-4 w-4 mr-2\" />\n                        Profile\n                      </Link>\n                      <Link\n                        to=\"/orders\"\n                        className=\"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100\"\n                        onClick={() => setShowUserMenu(false)}\n                      >\n                        <Package className=\"h-4 w-4 mr-2\" />\n                        Orders\n                      </Link>\n                      <Link\n                        to=\"/wishlist\"\n                        className=\"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100\"\n                        onClick={() => setShowUserMenu(false)}\n                      >\n                        <Heart className=\"h-4 w-4 mr-2\" />\n                        Wishlist\n                      </Link>\n                      {user?.role === 'admin' && (\n                        <Link\n                          to=\"/admin\"\n                          className=\"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100\"\n                          onClick={() => setShowUserMenu(false)}\n                        >\n                          <Package className=\"h-4 w-4 mr-2\" />\n                          Admin\n                        </Link>\n                      )}\n                      <button\n                        onClick={handleLogout}\n                        className=\"flex items-center w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100\"\n                      >\n                        <LogOut className=\"h-4 w-4 mr-2\" />\n                        Logout\n                      </button>\n                    </div>\n                  )}\n                </div>\n              ) : (\n                <div className=\"flex items-center space-x-2\">\n                  <Link\n                    to=\"/login\"\n                    className=\"px-3 py-2 text-sm hover:bg-gray-700 rounded-md\"\n                  >\n                    Sign In\n                  </Link>\n                  <Link\n                    to=\"/register\"\n                    className=\"px-3 py-2 text-sm bg-amazon-orange hover:bg-orange-600 rounded-md\"\n                  >\n                    Sign Up\n                  </Link>\n                </div>\n              )}\n            </div>\n\n            {/* Cart */}\n            <button\n              onClick={() => dispatch(toggleCart())}\n              className=\"relative p-2 hover:bg-gray-700 rounded-md\"\n            >\n              <ShoppingCart className=\"h-6 w-6\" />\n              {totalItems > 0 && (\n                <span className=\"absolute -top-1 -right-1 bg-amazon-orange text-white text-xs rounded-full h-5 w-5 flex items-center justify-center\">\n                  {totalItems}\n                </span>\n              )}\n            </button>\n          </div>\n        </div>\n      </div>\n    </nav>\n  );\n};\n\nexport default Navbar;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}