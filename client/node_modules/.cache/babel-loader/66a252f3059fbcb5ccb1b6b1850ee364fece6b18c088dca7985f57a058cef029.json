{"ast":null,"code":"import React from'react';import{Link}from'react-router-dom';import{Star,Heart,ShoppingCart}from'lucide-react';import{useDispatch,useSelector}from'react-redux';import{addToCart}from'../../store/slices/cartSlice';import{addToWishlist}from'../../store/slices/wishlistSlice';import toast from'react-hot-toast';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ProductCard=_ref=>{var _product$images$;let{product}=_ref;const dispatch=useDispatch();const{isAuthenticated}=useSelector(state=>state.auth);const handleAddToCart=e=>{e.preventDefault();e.stopPropagation();dispatch(addToCart({product,quantity:1}));toast.success('Product added to cart!');};const handleAddToWishlist=e=>{e.preventDefault();e.stopPropagation();if(isAuthenticated){dispatch(addToWishlist(product._id));toast.success('Product added to wishlist!');}else{toast.error('Please login to add to wishlist');}};const renderStars=rating=>{const stars=[];const fullStars=Math.floor(rating);const hasHalfStar=rating%1!==0;for(let i=0;i<fullStars;i++){stars.push(/*#__PURE__*/_jsx(Star,{className:\"h-4 w-4 fill-yellow-400 text-yellow-400\"},i));}if(hasHalfStar){stars.push(/*#__PURE__*/_jsx(Star,{className:\"h-4 w-4 fill-yellow-400 text-yellow-400\"},\"half\"));}const emptyStars=5-Math.ceil(rating);for(let i=0;i<emptyStars;i++){stars.push(/*#__PURE__*/_jsx(Star,{className:\"h-4 w-4 text-gray-300\"},\"empty-\".concat(i)));}return stars;};return/*#__PURE__*/_jsxs(Link,{to:\"/products/\".concat(product._id),className:\"product-card group\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"img\",{src:((_product$images$=product.images[0])===null||_product$images$===void 0?void 0:_product$images$.url)||'/placeholder-product.jpg',alt:product.name,className:\"w-full h-48 object-cover rounded-lg mb-4 group-hover:scale-105 transition-transform duration-200\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleAddToWishlist,className:\"absolute top-2 right-2 p-2 bg-white rounded-full shadow-md opacity-0 group-hover:opacity-100 transition-opacity duration-200 hover:bg-gray-50\",children:/*#__PURE__*/_jsx(Heart,{className:\"h-4 w-4 text-gray-600\"})}),product.originalPrice&&product.originalPrice>product.price&&/*#__PURE__*/_jsxs(\"div\",{className:\"absolute top-2 left-2 bg-red-500 text-white text-xs px-2 py-1 rounded\",children:[Math.round((product.originalPrice-product.price)/product.originalPrice*100),\"% OFF\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-medium text-gray-900 line-clamp-2 group-hover:text-amazon-orange transition-colors\",children:product.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-1\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center\",children:renderStars(product.ratings)}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm text-gray-500\",children:[\"(\",product.numOfReviews,\")\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-lg font-bold text-amazon-orange\",children:[\"$\",product.price]}),product.originalPrice&&product.originalPrice>product.price&&/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm text-gray-500 line-through\",children:[\"$\",product.originalPrice]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between pt-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-500\",children:product.stock>0?\"\".concat(product.stock,\" in stock\"):'Out of stock'}),/*#__PURE__*/_jsx(\"button\",{onClick:handleAddToCart,disabled:product.stock===0,className:\"p-2 bg-amazon-orange text-white rounded-md hover:bg-orange-600 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors duration-200\",children:/*#__PURE__*/_jsx(ShoppingCart,{className:\"h-4 w-4\"})})]})]})]});};export default ProductCard;","map":{"version":3,"names":["React","Link","Star","Heart","ShoppingCart","useDispatch","useSelector","addToCart","addToWishlist","toast","jsx","_jsx","jsxs","_jsxs","ProductCard","_ref","_product$images$","product","dispatch","isAuthenticated","state","auth","handleAddToCart","e","preventDefault","stopPropagation","quantity","success","handleAddToWishlist","_id","error","renderStars","rating","stars","fullStars","Math","floor","hasHalfStar","i","push","className","emptyStars","ceil","concat","to","children","src","images","url","alt","name","onClick","originalPrice","price","round","ratings","numOfReviews","stock","disabled"],"sources":["/Users/adityapandey/Desktop/HarshKumar/client/src/components/ui/ProductCard.js"],"sourcesContent":["import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { Star, Heart, ShoppingCart } from 'lucide-react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { addToCart } from '../../store/slices/cartSlice';\nimport { addToWishlist } from '../../store/slices/wishlistSlice';\nimport toast from 'react-hot-toast';\n\nconst ProductCard = ({ product }) => {\n  const dispatch = useDispatch();\n  const { isAuthenticated } = useSelector(state => state.auth);\n\n  const handleAddToCart = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n    dispatch(addToCart({ product, quantity: 1 }));\n    toast.success('Product added to cart!');\n  };\n\n  const handleAddToWishlist = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n    if (isAuthenticated) {\n      dispatch(addToWishlist(product._id));\n      toast.success('Product added to wishlist!');\n    } else {\n      toast.error('Please login to add to wishlist');\n    }\n  };\n\n  const renderStars = (rating) => {\n    const stars = [];\n    const fullStars = Math.floor(rating);\n    const hasHalfStar = rating % 1 !== 0;\n\n    for (let i = 0; i < fullStars; i++) {\n      stars.push(\n        <Star key={i} className=\"h-4 w-4 fill-yellow-400 text-yellow-400\" />\n      );\n    }\n\n    if (hasHalfStar) {\n      stars.push(\n        <Star key=\"half\" className=\"h-4 w-4 fill-yellow-400 text-yellow-400\" />\n      );\n    }\n\n    const emptyStars = 5 - Math.ceil(rating);\n    for (let i = 0; i < emptyStars; i++) {\n      stars.push(\n        <Star key={`empty-${i}`} className=\"h-4 w-4 text-gray-300\" />\n      );\n    }\n\n    return stars;\n  };\n\n  return (\n    <Link to={`/products/${product._id}`} className=\"product-card group\">\n      <div className=\"relative\">\n        <img\n          src={product.images[0]?.url || '/placeholder-product.jpg'}\n          alt={product.name}\n          className=\"w-full h-48 object-cover rounded-lg mb-4 group-hover:scale-105 transition-transform duration-200\"\n        />\n        \n        {/* Wishlist Button */}\n        <button\n          onClick={handleAddToWishlist}\n          className=\"absolute top-2 right-2 p-2 bg-white rounded-full shadow-md opacity-0 group-hover:opacity-100 transition-opacity duration-200 hover:bg-gray-50\"\n        >\n          <Heart className=\"h-4 w-4 text-gray-600\" />\n        </button>\n\n        {/* Discount Badge */}\n        {product.originalPrice && product.originalPrice > product.price && (\n          <div className=\"absolute top-2 left-2 bg-red-500 text-white text-xs px-2 py-1 rounded\">\n            {Math.round(((product.originalPrice - product.price) / product.originalPrice) * 100)}% OFF\n          </div>\n        )}\n      </div>\n\n      <div className=\"space-y-2\">\n        <h3 className=\"font-medium text-gray-900 line-clamp-2 group-hover:text-amazon-orange transition-colors\">\n          {product.name}\n        </h3>\n        \n        <div className=\"flex items-center space-x-1\">\n          <div className=\"flex items-center\">\n            {renderStars(product.ratings)}\n          </div>\n          <span className=\"text-sm text-gray-500\">\n            ({product.numOfReviews})\n          </span>\n        </div>\n\n        <div className=\"flex items-center space-x-2\">\n          <span className=\"text-lg font-bold text-amazon-orange\">\n            ${product.price}\n          </span>\n          {product.originalPrice && product.originalPrice > product.price && (\n            <span className=\"text-sm text-gray-500 line-through\">\n              ${product.originalPrice}\n            </span>\n          )}\n        </div>\n\n        <div className=\"flex items-center justify-between pt-2\">\n          <span className=\"text-sm text-gray-500\">\n            {product.stock > 0 ? `${product.stock} in stock` : 'Out of stock'}\n          </span>\n          \n          <button\n            onClick={handleAddToCart}\n            disabled={product.stock === 0}\n            className=\"p-2 bg-amazon-orange text-white rounded-md hover:bg-orange-600 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors duration-200\"\n          >\n            <ShoppingCart className=\"h-4 w-4\" />\n          </button>\n        </div>\n      </div>\n    </Link>\n  );\n};\n\nexport default ProductCard;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}