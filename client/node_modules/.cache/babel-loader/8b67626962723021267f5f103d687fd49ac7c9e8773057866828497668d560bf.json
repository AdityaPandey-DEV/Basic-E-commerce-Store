{"ast":null,"code":"import React from'react';import{Link}from'react-router-dom';import{useSelector,useDispatch}from'react-redux';import{X,Plus,Minus,Trash2,ShoppingBag}from'lucide-react';import{closeCart,updateQuantity,removeFromCart}from'../../store/slices/cartSlice';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const CartSidebar=()=>{const dispatch=useDispatch();const{items,totalItems,totalPrice}=useSelector(state=>state.cart);const handleQuantityChange=(productId,newQuantity)=>{if(newQuantity<=0){dispatch(removeFromCart(productId));}else{dispatch(updateQuantity({productId,quantity:newQuantity}));}};const handleRemoveItem=productId=>{dispatch(removeFromCart(productId));};return/*#__PURE__*/_jsxs(\"div\",{className:\"fixed inset-0 z-50 overflow-hidden\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 bg-black bg-opacity-50\",onClick:()=>dispatch(closeCart())}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative flex flex-col w-full max-w-md bg-white h-full shadow-xl ml-auto\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between p-4 border-b\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-lg font-semibold text-gray-900\",children:[\"Shopping Cart (\",totalItems,\")\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>dispatch(closeCart()),className:\"p-2 hover:bg-gray-100 rounded-md\",children:/*#__PURE__*/_jsx(X,{className:\"h-5 w-5\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 overflow-y-auto\",children:items.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-center justify-center h-full text-gray-500\",children:[/*#__PURE__*/_jsx(ShoppingBag,{className:\"h-16 w-16 mb-4\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-lg font-medium\",children:\"Your cart is empty\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm\",children:\"Add some items to get started\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"p-4 space-y-4\",children:items.map(item=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4 p-3 border border-gray-200 rounded-lg\",children:[/*#__PURE__*/_jsx(\"img\",{src:item.image,alt:item.name,className:\"w-16 h-16 object-cover rounded-md\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-sm font-medium text-gray-900 line-clamp-2\",children:item.name}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-500\",children:[\"$\",item.price]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 mt-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleQuantityChange(item._id,item.quantity-1),className:\"p-1 hover:bg-gray-100 rounded\",children:/*#__PURE__*/_jsx(Minus,{className:\"h-4 w-4\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium w-8 text-center\",children:item.quantity}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleQuantityChange(item._id,item.quantity+1),className:\"p-1 hover:bg-gray-100 rounded\",children:/*#__PURE__*/_jsx(Plus,{className:\"h-4 w-4\"})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-end space-y-2\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm font-medium\",children:[\"$\",(item.price*item.quantity).toFixed(2)]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleRemoveItem(item._id),className:\"p-1 text-red-500 hover:bg-red-50 rounded\",children:/*#__PURE__*/_jsx(Trash2,{className:\"h-4 w-4\"})})]})]},item._id))})}),items.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"border-t p-4 space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-lg font-semibold\",children:\"Total:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-lg font-semibold text-amazon-orange\",children:[\"$\",totalPrice.toFixed(2)]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsx(Link,{to:\"/cart\",className:\"w-full btn-outline text-center block\",onClick:()=>dispatch(closeCart()),children:\"View Cart\"}),/*#__PURE__*/_jsx(Link,{to:\"/checkout\",className:\"w-full btn-primary text-center block\",onClick:()=>dispatch(closeCart()),children:\"Checkout\"})]})]})]})]});};export default CartSidebar;","map":{"version":3,"names":["React","Link","useSelector","useDispatch","X","Plus","Minus","Trash2","ShoppingBag","closeCart","updateQuantity","removeFromCart","jsx","_jsx","jsxs","_jsxs","CartSidebar","dispatch","items","totalItems","totalPrice","state","cart","handleQuantityChange","productId","newQuantity","quantity","handleRemoveItem","className","children","onClick","length","map","item","src","image","alt","name","price","_id","toFixed","to"],"sources":["/Users/adityapandey/Desktop/HarshKumar/client/src/components/cart/CartSidebar.js"],"sourcesContent":["import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { X, Plus, Minus, Trash2, ShoppingBag } from 'lucide-react';\nimport { closeCart, updateQuantity, removeFromCart } from '../../store/slices/cartSlice';\n\nconst CartSidebar = () => {\n  const dispatch = useDispatch();\n  const { items, totalItems, totalPrice } = useSelector(state => state.cart);\n\n  const handleQuantityChange = (productId, newQuantity) => {\n    if (newQuantity <= 0) {\n      dispatch(removeFromCart(productId));\n    } else {\n      dispatch(updateQuantity({ productId, quantity: newQuantity }));\n    }\n  };\n\n  const handleRemoveItem = (productId) => {\n    dispatch(removeFromCart(productId));\n  };\n\n  return (\n    <div className=\"fixed inset-0 z-50 overflow-hidden\">\n      <div className=\"absolute inset-0 bg-black bg-opacity-50\" onClick={() => dispatch(closeCart())} />\n      \n      <div className=\"relative flex flex-col w-full max-w-md bg-white h-full shadow-xl ml-auto\">\n        <div className=\"flex items-center justify-between p-4 border-b\">\n          <h2 className=\"text-lg font-semibold text-gray-900\">\n            Shopping Cart ({totalItems})\n          </h2>\n          <button\n            onClick={() => dispatch(closeCart())}\n            className=\"p-2 hover:bg-gray-100 rounded-md\"\n          >\n            <X className=\"h-5 w-5\" />\n          </button>\n        </div>\n\n        <div className=\"flex-1 overflow-y-auto\">\n          {items.length === 0 ? (\n            <div className=\"flex flex-col items-center justify-center h-full text-gray-500\">\n              <ShoppingBag className=\"h-16 w-16 mb-4\" />\n              <p className=\"text-lg font-medium\">Your cart is empty</p>\n              <p className=\"text-sm\">Add some items to get started</p>\n            </div>\n          ) : (\n            <div className=\"p-4 space-y-4\">\n              {items.map((item) => (\n                <div key={item._id} className=\"flex items-center space-x-4 p-3 border border-gray-200 rounded-lg\">\n                  <img\n                    src={item.image}\n                    alt={item.name}\n                    className=\"w-16 h-16 object-cover rounded-md\"\n                  />\n                  <div className=\"flex-1\">\n                    <h3 className=\"text-sm font-medium text-gray-900 line-clamp-2\">\n                      {item.name}\n                    </h3>\n                    <p className=\"text-sm text-gray-500\">${item.price}</p>\n                    \n                    <div className=\"flex items-center space-x-2 mt-2\">\n                      <button\n                        onClick={() => handleQuantityChange(item._id, item.quantity - 1)}\n                        className=\"p-1 hover:bg-gray-100 rounded\"\n                      >\n                        <Minus className=\"h-4 w-4\" />\n                      </button>\n                      <span className=\"text-sm font-medium w-8 text-center\">\n                        {item.quantity}\n                      </span>\n                      <button\n                        onClick={() => handleQuantityChange(item._id, item.quantity + 1)}\n                        className=\"p-1 hover:bg-gray-100 rounded\"\n                      >\n                        <Plus className=\"h-4 w-4\" />\n                      </button>\n                    </div>\n                  </div>\n                  \n                  <div className=\"flex flex-col items-end space-y-2\">\n                    <p className=\"text-sm font-medium\">\n                      ${(item.price * item.quantity).toFixed(2)}\n                    </p>\n                    <button\n                      onClick={() => handleRemoveItem(item._id)}\n                      className=\"p-1 text-red-500 hover:bg-red-50 rounded\"\n                    >\n                      <Trash2 className=\"h-4 w-4\" />\n                    </button>\n                  </div>\n                </div>\n              ))}\n            </div>\n          )}\n        </div>\n\n        {items.length > 0 && (\n          <div className=\"border-t p-4 space-y-4\">\n            <div className=\"flex justify-between items-center\">\n              <span className=\"text-lg font-semibold\">Total:</span>\n              <span className=\"text-lg font-semibold text-amazon-orange\">\n                ${totalPrice.toFixed(2)}\n              </span>\n            </div>\n            \n            <div className=\"space-y-2\">\n              <Link\n                to=\"/cart\"\n                className=\"w-full btn-outline text-center block\"\n                onClick={() => dispatch(closeCart())}\n              >\n                View Cart\n              </Link>\n              <Link\n                to=\"/checkout\"\n                className=\"w-full btn-primary text-center block\"\n                onClick={() => dispatch(closeCart())}\n              >\n                Checkout\n              </Link>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default CartSidebar;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}